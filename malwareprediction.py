import json
import pandas as pd
from sklearn.linear_model import LinearRegression
def j2c(user):
    dt = ""
    for i in user:
        dt += str(user[i]) + ","
    dt = dt[0:len(dt)-1]
    dt += "\n"
    return dt
def predict(file,impacts,outcome,inps):
    data = pd.read_csv(file)
    X = data[impacts]
    Y = data[outcome]
    linear_regressor = LinearRegression()
    linear_regressor.fit(X, Y)
    nx = [inps]
    pred = linear_regressor.predict(nx)
    return pred
age = int(input("Enter age: "))
production = int(input("Enter milk production in litres : "))
calories = int(input("Enter calories: "))
weight=int(input("Enter weight of the cow : "))
prd = predict('data.csv',["Age","Milk Production in litres","Calories per day","Cow Weight"],"Lifespan",[age,production,calories,weight])
print(type(prd))
print("The % of selecting database",age," is: ",prd)
new = {"age":age,"production":production,"calories":calories,"weight of cow":weight,"predict":prd[0]}
add = j2c(new)
f = open("data.csv","a")
print(f.write(add))
f.close()
